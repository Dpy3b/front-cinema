"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[136],{36136:function(r,e,t){t.r(e);var n=t(85893),u=t(90528),a=t(6884),o=t(51163),i=t(91711),c=t(77366);e.default=function(){var r=(0,u.r)(),e=r.isLoading,t=r.favoritesMovies;return(0,o.a)().user?e?(0,n.jsx)("div",{className:"mt-11",children:(0,n.jsx)(a.Z,{count:3,className:"h-28 mb-4"})}):(0,n.jsx)(i.Z,{list:{link:"/favorites",movies:(null===t||void 0===t?void 0:t.slice(0,3))||[],title:"Favorites"}}):(0,n.jsx)(c.Z,{})}},77366:function(r,e,t){var n=t(85893);e.Z=function(){return(0,n.jsx)("div",{className:"mt-11 bg-gray-700 bg-opacity-20 py-3 px-5 rounded-lg text-white text-opacity-80",children:"For viewing favorites plz autorize!"})}},90528:function(r,e,t){t.d(e,{r:function(){return o}});var n=t(88767),u=t(95163),a=t(51163),o=function(){var r=(0,a.a)().user,e=(0,n.useQuery)("Favorite movies",(function(){return u.K.getFavorites()}),{select:function(r){return r.data},enabled:!!r});return{isLoading:e.isLoading,favoritesMovies:e.data,refetch:e.refetch}}},95163:function(r,e,t){t.d(e,{K:function(){return s}});var n=t(34051),u=t.n(n),a=t(84714),o=t(33739);function i(r,e,t,n,u,a,o){try{var i=r[a](o),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(n,u)}function c(r){return function(){var e=this,t=arguments;return new Promise((function(n,u){var a=r.apply(e,t);function o(r){i(a,n,u,o,c,"next",r)}function c(r){i(a,n,u,o,c,"throw",r)}o(void 0)}))}}var s={getProfile:function(){return c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.Z.get((0,o.Il)("/profile")));case 1:case"end":return r.stop()}}),r)})))()},updateProfile:function(r){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.put((0,o.Il)("/profile"),r));case 1:case"end":return e.stop()}}),e)})))()},getUsers:function(r){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,o.Il)(""),{params:r?{searchTerm:r}:{}}));case 1:case"end":return e.stop()}}),e)})))()},getUser:function(r){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,o.Il)("/".concat(r))));case 1:case"end":return e.stop()}}),e)})))()},updateUser:function(r,e){return c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.put((0,o.Il)("/".concat(r)),e));case 1:case"end":return t.stop()}}),t)})))()},deleteUser:function(r){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.delete((0,o.Il)("/".concat(r))));case 1:case"end":return e.stop()}}),e)})))()},getFavorites:function(){return c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.Z.get((0,o.Il)("/profile/favorites")));case 1:case"end":return r.stop()}}),r)})))()},toggleFavorite:function(r){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post((0,o.Il)("/profile/favorites"),{movieId:r}));case 1:case"end":return e.stop()}}),e)})))()}}}}]);