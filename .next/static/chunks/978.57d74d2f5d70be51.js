(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{82026:function(e,r,n){"use strict";var t=n(85893),s=n(60590),o=n(41664),i=n(29550),a=n.n(i);r.Z=function(e){var r=e.slug;return(0,t.jsx)(o.default,{href:"/auth?redirect=".concat((0,s.Xl)(r)),children:(0,t.jsx)("a",{className:a().btn,children:"Sign in"})})}},32978:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return h}});var t=n(85893),s=n(80413),o=n.n(s),i=n(94184),a=n.n(i),c=n(51163),l=n(94715),u=n(29550),d=n.n(u),f=n(82026),v=function(e){var r=e.slug;return(0,t.jsx)("div",{className:d().placeholder,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"You must be logged in to start watching"}),(0,t.jsx)(f.Z,{slug:r})]})})},m=n(67294),h=function(e){var r=e.videoSource,n=e.slug,s=function(){var e,r=(0,m.useRef)(null),n=(0,m.useState)(!1),t=n[0],s=n[1],o=(0,m.useState)(0),i=o[0],a=o[1],c=(0,m.useState)(0),l=c[0],u=c[1],d=(0,m.useState)(0),f=d[0],v=d[1];(0,m.useEffect)((function(){var e;(null===(e=r.current)||void 0===e?void 0:e.duration)&&u(r.current.duration)}),[null===(e=r.current)||void 0===e?void 0:e.duration]);var h=(0,m.useCallback)((function(){var e,n;t?(null===(e=r.current)||void 0===e||e.pause(),s(!1)):(null===(n=r.current)||void 0===n||n.play(),s(!0))}),[t]),p=function(){r.current&&(r.current.currentTime+=10)},_=function(){r.current&&(r.current.currentTime-=10)},x=function(){var e=r.current;e&&(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())};return(0,m.useEffect)((function(){var e=r.current;if(e){var n=function(){a(e.currentTime),v(e.currentTime/l*100)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}}),[l]),(0,m.useEffect)((function(){var e=function(e){switch(e.key){case"ArrowRight":p();break;case"ArrowLeft":_();break;case" ":e.preventDefault(),h();break;case"f":x();break;default:return}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[h]),(0,m.useMemo)((function(){return{videoRef:r,actions:{fullScreen:x,revert:_,fastForward:p,toggleVideo:h},video:{isPlaying:t,currentTime:i,progress:f,videoTime:l}}}),[i,f,t,l,h])}(),i=s.actions,u=s.videoRef,d=s.video,f=(0,c.a)().user;return(0,t.jsx)("div",{className:a()(o().wrapper,{"h-96":!f}),children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("video",{ref:u,className:o().video,src:"".concat(r,"#t=8"),preload:"metadata"}),(0,t.jsx)("div",{className:o().progressBarContainer,children:(0,t.jsx)("div",{style:{width:"".concat(d.progress,"%")},className:o().progressBar})}),(0,t.jsxs)("div",{className:o().controls,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:i.revert,children:(0,t.jsx)(l.O,{name:"MdHistory"})}),(0,t.jsx)("button",{onClick:i.toggleVideo,className:o().playButton,children:(0,t.jsx)(l.O,{name:d.isPlaying?"MdPause":"MdPlayArrow"})}),(0,t.jsx)("button",{onClick:i.fastForward,children:(0,t.jsx)(l.O,{name:"MdUpdate"})}),(0,t.jsxs)("div",{className:o().timeControls,children:[(0,t.jsx)("p",{className:o().controlsTime,children:Math.floor(d.currentTime/60)+":"+("0"+Math.floor(d.currentTime%60)).slice(-2)}),(0,t.jsx)("p",{children:" / "}),(0,t.jsx)("p",{className:o().controlsTime,children:Math.floor(d.videoTime/60)+":"+("0"+Math.floor(d.videoTime%60)).slice(-2)})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:i.fullScreen,children:(0,t.jsx)(l.O,{name:"MdFullscreen"})})})]})]}):(0,t.jsx)(v,{slug:n})})}},29550:function(e){e.exports={placeholder:"AuthPlaceholder_placeholder__YVzcU",btn:"AuthPlaceholder_btn__989TG"}},80413:function(e){e.exports={wrapper:"VideoPlayer_wrapper__gbkFu",fade:"VideoPlayer_fade__lF84Y",controls:"VideoPlayer_controls__ZQx86",playButton:"VideoPlayer_playButton__D_Dp8",timeControls:"VideoPlayer_timeControls__9afR3",progressBarContainer:"VideoPlayer_progressBarContainer__KzbQm",progressBar:"VideoPlayer_progressBar__kOHsN"}}}]);