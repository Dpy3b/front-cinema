(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{50959:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[slug]",function(){return n(26747)}])},90528:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(88767),i=n(95163),a=n(51163),u=function(){var t=(0,a.a)().user,e=(0,r.useQuery)("Favorite movies",(function(){return i.K.getFavorites()}),{select:function(t){return t.data},enabled:!!t});return{isLoading:e.isLoading,favoritesMovies:e.data,refetch:e.refetch}}},58815:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(85893),i=n(94184),a=n.n(i),u=n(67294),o=n(88767),s=n(95163),c=n(75777),l="/_next/static/media/heart-animation.45ff2efe.png",f=n(90528),d=n(85386),p=n.n(d),v=n(51163);var m=function(t){var e=t.movieId;if(!(0,v.a)().user)return null;var n=(0,u.useState)(!1),i=n[0],d=n[1],m=(0,f.r)(),x=m.favoritesMovies,h=m.refetch;(0,u.useEffect)((function(){if(x){var t=x.some((function(t){return t._id===e}));i!==t&&d(t)}}),[x,i,e]);var _,g,j,b=(0,o.useMutation)("update actor",(function(){return s.K.toggleFavorite(e)}),{onError:function(t){(0,c._)(t,"Update favorite list")},onSuccess:function(){d(!i),h()}}).mutateAsync;return(0,r.jsx)("button",{onClick:function(){return b()},className:a()(p().button,(_={},g=p().animate,j=i,g in _?Object.defineProperty(_,g,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[g]=j,_)),style:{backgroundImage:"url(".concat(l,")")}})}},29226:function(t,e,n){"use strict";var r=n(85893),i=n(97047),a=n(98511),u=n.n(a);e.Z=function(t){var e=t.items;return(0,r.jsx)("div",{className:u().gallery,children:e.map((function(t){return(0,r.jsx)(i.Z,{item:t,variant:"vertical"},t.url)}))})}},97047:function(t,e,n){"use strict";var r=n(85893),i=n(94184),a=n.n(i),u=n(25675),o=n(41664),s=n(98511),c=n.n(s);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.Z=function(t){var e,n=t.item,i=t.variant;return(0,r.jsx)(o.default,{href:n.url,children:(0,r.jsxs)("a",{className:a()(c().item,(e={},l(e,c().withText,n.content),l(e,c().horizontal,"horizontal"===i),l(e,c().vertical,"vertical"===i),e)),children:[(0,r.jsx)(u.default,{alt:n.name,src:n.posterPath,layout:"fill",draggable:!1,priority:!0}),n.content&&(0,r.jsxs)("div",{className:c().content,children:[(0,r.jsx)("div",{className:c().title,children:n.content.title}),n.content.subTitle&&(0,r.jsxs)("div",{className:c().subTitle,children:[" ",n.content.subTitle]})]})]})})}},62289:function(t,e,n){"use strict";var r=n(85893);e.Z=function(t){var e=t.title,n=t.className,i=void 0===n?"":n;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat(i.includes("xl")?"":"text-3xl"," ").concat(i),children:e})}},71365:function(t,e,n){"use strict";var r=n(85893);e.Z=function(t){var e=t.title;return(0,r.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:e})}},95163:function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var r=n(34051),i=n.n(r),a=n(84714),u=n(33739);function o(t,e,n,r,i,a,u){try{var o=t[a](u),s=o.value}catch(c){return void n(c)}o.done?e(s):Promise.resolve(s).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){o(a,r,i,u,s,"next",t)}function s(t){o(a,r,i,u,s,"throw",t)}u(void 0)}))}}var c={getProfile:function(){return s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.get((0,u.Il)("/profile")));case 1:case"end":return t.stop()}}),t)})))()},updateProfile:function(t){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.put((0,u.Il)("/profile"),t));case 1:case"end":return e.stop()}}),e)})))()},getUsers:function(t){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,u.Il)(""),{params:t?{searchTerm:t}:{}}));case 1:case"end":return e.stop()}}),e)})))()},getUser:function(t){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,u.Il)("/".concat(t))));case 1:case"end":return e.stop()}}),e)})))()},updateUser:function(t,e){return s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a.Z.put((0,u.Il)("/".concat(t)),e));case 1:case"end":return n.stop()}}),n)})))()},deleteUser:function(t){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.delete((0,u.Il)("/".concat(t))));case 1:case"end":return e.stop()}}),e)})))()},getFavorites:function(){return s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.get((0,u.Il)("/profile/favorites")));case 1:case"end":return t.stop()}}),t)})))()},toggleFavorite:function(t){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post((0,u.Il)("/profile/favorites"),{movieId:t}));case 1:case"end":return e.stop()}}),e)})))()}}},71499:function(t,e,n){"use strict";n.d(e,{h:function(){return l},$:function(){return f}});var r=n(85893),i=n(9008),a=n(11163),u="Movie app",o=function(t){return"".concat(t," | ").concat(u)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return e&&(n=n.slice(0,e)+"..."),n},c=n(79247),l=function(t){var e=t.title,n=t.description,l=t.image,d=void 0===l?null:l,p=t.children,v=(0,a.useRouter)().asPath,m="".concat("http://localhost:3000").concat(v);return(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{itemProp:"headline",children:o(e)}),(0,r.jsx)("meta",{itemProp:"description",name:"description",content:s(n,152)}),(0,r.jsx)("link",{rel:"canonical",href:m}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:o(e)}),(0,r.jsx)("meta",{property:"og:url",content:m}),(0,r.jsx)("meta",{property:"og:image",content:d||c.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:u}),(0,r.jsx)("meta",{property:"og:description",content:s(n,197)})]}):(0,r.jsx)(f,{title:e}),p]})},f=function(t){var e=t.title,n=void 0===e?"Error":e;return(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:o(n)}),(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]})}},5838:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(85893),i=n(62289),a=n(71499);function u(){return(0,r.jsx)(a.h,{title:"Page not found",children:(0,r.jsx)(i.Z,{title:"404 - Page Not Found"})})}},26747:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return D},default:function(){return E}});var r=n(85893),i=n(5152),a=n(25675),u=n(67294),o=n(5496),s=n.n(o),c=function(t){var e=t.imagePath,n=t.Detail;return(0,r.jsxs)("div",{className:s().banner,children:[(0,r.jsx)(a.default,{alt:"",src:e,draggable:!1,layout:"fill",className:"image-like-bg object-top",unoptimized:!0,priority:!0}),n&&(0,r.jsx)(n,{})]})},l=n(29226),f=n(71365),d=n(71499),p=n(94715),v=n(60590),m=n(58815),x=n(46751),h=n.n(x),_=n(41664),g=n(89323),j=n.n(g),b=function(t){var e=t.name,n=t.links;return(0,r.jsxs)("div",{className:j().list,children:[(0,r.jsxs)("div",{className:j().name,children:[e,":"]}),(0,r.jsx)("div",{className:j().links,children:n.slice(0,3).map((function(t,e){var i=t.link,a=t.title,o=t._id;return(0,r.jsxs)(u.Fragment,{children:[(0,r.jsx)(_.default,{href:i,children:(0,r.jsx)("a",{children:a})}),e+1!==n.length?", ":""]},o)}))})]})},w=n(51163),y=function(t){var e=t.movie,n=(0,w.a)().user;return(0,r.jsxs)("div",{className:h().content,children:[(0,r.jsx)("h1",{children:e.title}),n&&(0,r.jsx)(m.Z,{movieId:e._id}),(0,r.jsxs)("div",{className:h().rating,children:[(0,r.jsx)(p.O,{name:"MdStarRate"}),(0,r.jsx)("span",{children:e.rating.toFixed(1)})]}),(0,r.jsxs)("div",{className:h().details,children:[(0,r.jsxs)("span",{children:[e.parameters.year," \xb7 "]}),(0,r.jsxs)("span",{children:[e.parameters.country," \xb7 "]}),(0,r.jsxs)("span",{children:[e.parameters.duration," min."]})]}),(0,r.jsx)(b,{name:"Genres",links:e.genres.map((function(t){return{link:(0,v.i8)(t.slug),title:t.name,_id:t._id}}))}),(0,r.jsx)(b,{name:"Actors",links:e.actors.map((function(t){return{link:(0,v.F_)(t.slug),title:t.name,_id:t._id}}))})]})},k=n(88767),F=n(83618),N=(0,i.default)((function(){return n.e(978).then(n.bind(n,32978))}),{loadableGenerated:{webpack:function(){return[32978]}},ssr:!1}),Z=(0,i.default)((function(){return n.e(643).then(n.bind(n,34643))}),{loadableGenerated:{webpack:function(){return[34643]}},ssr:!1}),P=function(t){var e=t.movie,n=t.similarMovies;return function(t){var e=(0,k.useMutation)("update actor",(function(){return F.u.updateCountOpened(t)})).mutateAsync;(0,u.useEffect)((function(){e()}),[])}(e.slug),(0,r.jsxs)(d.h,{title:e.title,description:"Watch ".concat(e.title),children:[(0,r.jsx)(c,{imagePath:e.bigPoster,Detail:function(){return(0,r.jsx)(y,{movie:e})}}),(0,r.jsx)(N,{videoSource:e.videoUrl,slug:e.slug}),(0,r.jsxs)("div",{className:"mt-12",children:[(0,r.jsx)(f.Z,{title:"Similar"}),(0,r.jsx)(l.Z,{items:n})]}),(0,r.jsx)(Z,{slug:e.slug,_id:e._id})]})},C=n(5838),D=!0,E=function(t){var e=t.movie,n=t.similarMovies;return e?(0,r.jsx)(P,{movie:e,similarMovies:n}):(0,r.jsx)(C.default,{})}},46751:function(t){t.exports={content:"Content_content__qxXfW",rating:"Content_rating__zKZon",details:"Content_details__0w6RG"}},89323:function(t){t.exports={list:"ContentList_list__txfiV",name:"ContentList_name__klRS3",links:"ContentList_links__cd0qI"}},85386:function(t){t.exports={button:"FavoriteButton_button__4HnpL",animate:"FavoriteButton_animate__4b8kX","heart-burst":"FavoriteButton_heart-burst__jgos5"}},5496:function(t){t.exports={banner:"Banner_banner__Xpiqz"}},98511:function(t){t.exports={gallery:"Gallery_gallery__CuT0n",item:"Gallery_item__eQKOi",vertical:"Gallery_vertical__cZ4bD",horizontal:"Gallery_horizontal__bgSxA",withText:"Gallery_withText__gpvco",content:"Gallery_content__EeavS",title:"Gallery_title__8woBC",subTitle:"Gallery_subTitle__y43Ea"}}},function(t){t.O(0,[774,888,179],(function(){return e=50959,t(t.s=e);var e}));var e=t.O();_N_E=e}]);