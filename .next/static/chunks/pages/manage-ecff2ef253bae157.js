(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{17790:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return e(35374)}])},36604:function(t,n,e){"use strict";e.d(n,{Z:function(){return f}});var i=e(85893),r=e(94184),s=e.n(r),c=e(41664),o=e(11163),a=e(77840),u=e.n(a);var l=function(t){var n,e,r,a=t.navItem,l=(0,o.useRouter)().asPath;return(0,i.jsx)("li",{children:(0,i.jsx)(c.default,{href:a.link,children:(0,i.jsx)("a",{className:s()((n={},e=u().active,r=l===a.link,e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n)),children:a.title})})})},d=e(60590),m=[{title:"Statistics",link:(0,d.wk)()},{title:"Users",link:(0,d.A7)("users")},{title:"Movies",link:(0,d.A7)("movies")},{title:"Actors",link:(0,d.A7)("actors")},{title:"Genres",link:(0,d.A7)("genres")}],f=function(){return(0,i.jsx)("nav",{className:u().nav,children:(0,i.jsx)("ul",{children:m.map((function(t){return(0,i.jsx)(l,{navItem:t},t.link)}))})})}},62289:function(t,n,e){"use strict";var i=e(85893);n.Z=function(t){var n=t.title,e=t.className,r=void 0===e?"":e;return(0,i.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat(r.includes("xl")?"":"text-3xl"," ").concat(r),children:n})}},71365:function(t,n,e){"use strict";var i=e(85893);n.Z=function(t){var n=t.title;return(0,i.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:n})}},71499:function(t,n,e){"use strict";e.d(n,{h:function(){return l},$:function(){return d}});var i=e(85893),r=e(9008),s=e(11163),c="Movie app",o=function(t){return"".concat(t," | ").concat(c)},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=t.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return n&&(e=e.slice(0,n)+"..."),e},u=e(79247),l=function(t){var n=t.title,e=t.description,l=t.image,m=void 0===l?null:l,f=t.children,p=(0,s.useRouter)().asPath,x="".concat("http://localhost:3000").concat(p);return(0,i.jsxs)(i.Fragment,{children:[e?(0,i.jsxs)(r.default,{children:[(0,i.jsx)("title",{itemProp:"headline",children:o(n)}),(0,i.jsx)("meta",{itemProp:"description",name:"description",content:a(e,152)}),(0,i.jsx)("link",{rel:"canonical",href:x}),(0,i.jsx)("meta",{property:"og:locale",content:"en"}),(0,i.jsx)("meta",{property:"og:title",content:o(n)}),(0,i.jsx)("meta",{property:"og:url",content:x}),(0,i.jsx)("meta",{property:"og:image",content:m||u.Z}),(0,i.jsx)("meta",{property:"og:site_name",content:c}),(0,i.jsx)("meta",{property:"og:description",content:a(e,197)})]}):(0,i.jsx)(d,{title:n}),f]})},d=function(t){var n=t.title,e=void 0===n?"Error":n;return(0,i.jsxs)(r.default,{children:[(0,i.jsx)("title",{children:o(e)}),(0,i.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]})}},35374:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return P}});var i=e(85893),r=e(36604),s=e(62289),c=e(71499),o=e(7668),a=e.n(o),u=e(94184),l=e.n(u),d=e(88767),m=e(6884),f=e(34051),p=e.n(f),x=e(84714),v=e(33739);function h(t,n,e,i,r,s,c){try{var o=t[s](c),a=o.value}catch(u){return void e(u)}o.done?n(a):Promise.resolve(a).then(i,r)}var j=function(){return(t=p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x.Z.get((0,v.Il)("/count")));case 1:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(i,r){var s=t.apply(n,e);function c(t){h(s,i,r,c,o,"next",t)}function o(t){h(s,i,r,c,o,"throw",t)}c(void 0)}))})();var t},_=function(){var t=(0,d.useQuery)("Count users",(function(){return j()})),n=t.isLoading,e=t.data;return(0,i.jsx)("div",{className:l()(a().block,a().countUsers),children:(0,i.jsxs)("div",{children:[n?(0,i.jsx)(m.Z,{}):(0,i.jsx)("div",{className:a().number,children:null===e||void 0===e?void 0:e.data}),(0,i.jsx)("div",{className:a().description,children:"users"})]})})},g=e(25675),b=e(41664),k=e(71365),N=e(83618),w=e(60590),A=function(){var t=(0,d.useQuery)("Most popular movie in admin",(function(){return N.u.getMostPopularMovies()}),{select:function(t){return t[0]}}),n=t.isLoading,e=t.data;return(0,i.jsxs)("div",{className:l()(a().block,a().popular),children:[(0,i.jsx)(k.Z,{title:"The most popular movie"}),n?(0,i.jsx)(m.Z,{className:"h-48"}):e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h3",{children:["Opened ",e.countOpened," times"]}),(0,i.jsx)(b.default,{href:(0,w.Xl)(e.slug),children:(0,i.jsx)("a",{children:(0,i.jsx)(g.default,{width:285,height:176,src:e.bigPoster,alt:e.title,className:a().image,unoptimized:!0})})})]})]})},F=function(){return(0,i.jsxs)("div",{className:a().statistics,children:[(0,i.jsx)(_,{}),(0,i.jsx)(A,{})]})},D=function(){return(0,i.jsxs)(c.h,{title:"Admin panel",children:[(0,i.jsx)(r.Z,{}),(0,i.jsx)(s.Z,{title:"Some statistics"}),(0,i.jsx)(F,{})]})},y=function(){return(0,i.jsx)(D,{})};y.isOnlyAdmin=!0;var P=y},7668:function(t){t.exports={statistics:"Admin_statistics__BAxhP",block:"Admin_block__49gZU",countUsers:"Admin_countUsers__6Dm_K",number:"Admin_number__6f4GB",description:"Admin_description__Jg5_d",popular:"Admin_popular__dDPl3"}},77840:function(t){t.exports={nav:"AdminNavigation_nav__jmpMb",active:"AdminNavigation_active__DYQnj"}}},function(t){t.O(0,[774,888,179],(function(){return n=17790,t(t.s=n);var n}));var n=t.O();_N_E=n}]);